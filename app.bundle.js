(()=>{"use strict";var n={56(n,e,t){n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72(n){var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],s=0;s<n.length;s++){var d=n[s],l=r.base?d[0]+r.base:d[0],c=o[l]||0,m="".concat(l," ").concat(c);o[l]=c+1;var u=t(m),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var h=a(p,r);r.byIndex=s,e.splice(s,0,{identifier:m,updater:h,references:1})}i.push(m)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var s=t(o[i]);e[s].references--}for(var d=r(n,a),l=0;l<o.length;l++){var c=t(o[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=d}}},113(n){n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},249(n,e,t){t.d(e,{A:()=>u});var r=t(601),a=t.n(r),o=t(314),i=t.n(o),s=t(417),d=t.n(s),l=new URL(t(449),t.b),c=i()(a()),m=d()(l);c.push([n.id,`:root {\n  /* background clrs */\n  --bg1: #0b1b35;\n  --bg2: #050812;\n\n  /* text clrs*/\n  --w: #fff;\n  --b: #000;\n\n  --panel: rgba(255, 255, 255, 0.06);\n  --panel2: rgba(0, 0, 0, 0.28);\n  --bar: rgba(0, 0, 0, 0.25);\n\n  --bd: rgba(255, 255, 255, 0.08);\n  --bd2: rgba(255, 255, 255, 0.12);\n\n  /* squares */\n  --cell: rgba(255, 255, 255, 0.06);\n  --cell2: rgba(255, 255, 255, 0.12);\n  --cell3: rgba(255, 255, 255, 0.18);\n\n  /* shadows */\n  --sh1: rgba(0, 0, 0, 0.35);\n  --sh2: rgba(0, 0, 0, 0.45);\n  --sh3: rgba(0, 0, 0, 0.55);\n\n  --cyan: rgba(70, 217, 255, 1);\n  --blue: rgba(44, 112, 255, 1);\n  --red: rgba(255, 70, 70, 1);\n  --green: rgba(46, 255, 130, 1);\n\n  /* glow on squares */\n  --glow: rgba(70, 217, 255, 0.15);\n  --glow2: rgba(70, 217, 255, 0.25);\n  --cyanBd: rgba(70, 217, 255, 0.6);\n\n  --inset: rgba(255, 255, 255, 0.05);\n\n  --missDot: rgba(255, 255, 255, 0.75);\n  --hitDot: rgba(255, 255, 255, 0.92);\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n@font-face {\n  font-family: 'roboto';\n  src: url(${m});\n}\n\nbody {\n  font-family: 'roboto';\n  min-height: 100vh;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  padding: 1.5rem;\n  background: radial-gradient(circle at top, var(--bg1), var(--bg2));\n  color: var(--w);\n  gap: 4em;\n}\n\n.profileCon {\n  height: 40em;\n}\n\n.profile {\n  width: 10em;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.profileIcon img,\n.profileText {\n  cursor: pointer;\n  user-select: none;\n}\n\ndialog {\n  position: fixed;\n  inset: 0;\n  margin: auto;\n  width: min(28rem, 92%);\n  border: 0.08rem solid var(--bd);\n  border-radius: 1.25rem;\n  background: rgba(11, 27, 53, 0.92);\n  color: var(--w);\n  padding: 1.6rem;\n  box-shadow: 0 1.8rem 4rem var(--sh3);\n  z-index: 1000;\n}\n\ndialog::backdrop {\n  background: transparent;\n}\n\nform {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1.2rem;\n}\n\ninput {\n  width: 100%;\n  height: 3.2rem;\n  padding: 0 1rem;\n  border-radius: 0.9rem;\n  border: 0.08rem solid var(--bd2);\n  background: rgba(255, 255, 255, 0.06);\n  color: var(--w);\n  outline: none;\n  transition: 0.2s ease;\n}\n\ninput::placeholder {\n  color: rgba(255, 255, 255, 0.65);\n}\n\ninput:focus {\n  border: 0.08rem solid var(--cyanBd);\n  box-shadow: 0 0 1.2rem var(--glow2);\n  background: rgba(255, 255, 255, 0.09);\n}\n\n.modalBtns {\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n  margin-top: auto;\n}\n\n.modalBtns button {\n  min-width: 9rem;\n  height: 3rem;\n  border-radius: 0.9rem;\n}\n\n.modalBtns button:first-child {\n  background: linear-gradient(135deg, var(--cyan), var(--blue));\n  border: none;\n}\n\n.modalBtns button:last-child {\n  background: rgba(255, 255, 255, 0.08);\n  border: 0.08rem solid var(--bd2);\n}\n\n.overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(0.8em);\n  -webkit-backdrop-filter: blur(0.8em);\n  opacity: 0;\n  pointer-events: none;\n  transition: 0.2s;\n  z-index: 999;\n}\n\n.overlay.show {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.playerSide,\n.computerSide {\n  width: min(75rem, 100%);\n  display: grid;\n  grid-template-columns: 15em 1fr;\n  grid-template-rows: 4em 25em 4em;\n  gap: 0.9rem 1.1rem;\n  place-content: center;\n  padding: 1.1rem;\n  border-radius: 1.25rem;\n  background: var(--panel);\n  border: 0.08rem solid var(--bd);\n  box-shadow: 0 1.25rem 3.4rem var(--sh3);\n}\n\n.playerTitle,\n.computerTitle {\n  grid-column: 2;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 2.05rem 1.55rem;\n  border-radius: 1rem;\n  background: var(--bar);\n  border: 0.08rem solid var(--bd);\n  gap: 10px;\n}\n\n.rotateText {\n  width: 23%;\n}\n\n.btns {\n  width: 50%;\n  grid-column: 2;\n  grid-row: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 2.5rem;\n}\n\nbutton {\n  min-width: 10em;\n  height: 3.3em;\n  border-radius: 0.9rem;\n  cursor: pointer;\n  font-weight: 800;\n  letter-spacing: 0.02em;\n  color: var(--w);\n  background: rgba(255, 255, 255, 0.08);\n  border: 0.08rem solid var(--bd2);\n  box-shadow: 0 0.9rem 1.6rem var(--sh1);\n  transition: 0.2s ease;\n}\n\nbutton:hover {\n  transform: translateY(-0.12rem);\n  background: rgba(255, 255, 255, 0.14);\n}\n\nbutton:active {\n  transform: translateY(0) scale(0.98);\n}\n\n.btns button:first-child {\n  background: linear-gradient(135deg, var(--cyan), var(--blue));\n  border: none;\n}\n\n.btns button:nth-child(2) {\n  background: linear-gradient(\n    135deg,\n    rgba(255, 75, 110, 1),\n    rgba(255, 138, 75, 1)\n  );\n  border: none;\n}\n\n.startCon {\n  grid-column: 2;\n  width: 100%;\n  display: grid;\n  place-content: center;\n  padding-top: 0.4rem;\n}\n\n.startCon button {\n  width: min(26.25rem, 100%);\n  height: 3.4rem;\n  border-radius: 1.1rem;\n  border: none;\n  font-size: 1.05rem;\n  font-weight: 900;\n  color: var(--b);\n  background: linear-gradient(\n    135deg,\n    rgba(51, 217, 192, 1),\n    rgba(40, 94, 209, 1)\n  );\n  box-shadow: 0 1.1rem 2.2rem var(--sh2);\n}\n\n.shipsContainer {\n  width: 100%;\n  height: 100%;\n  grid-column: 1;\n  grid-row: 2 / 4;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 2em;\n  border-radius: 1.1rem;\n  background: var(--panel2);\n  border: 0.08rem dashed rgba(255, 255, 255, 0.16);\n  box-shadow: inset 0 0 1.1rem var(--inset);\n}\n\n.ship {\n  width: 10em;\n  max-width: 11.9rem;\n  padding: 0.95rem;\n  border-radius: 1rem;\n  border: 0.08rem solid var(--bd2);\n  background: rgba(255, 255, 255, 0.07);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: grab;\n  transition: 0.2s ease;\n  position: relative;\n  overflow: hidden;\n}\n\n.ship:hover {\n  transform: scale(1.03);\n  background: var(--bd2);\n}\n\n.ship:active {\n  cursor: grabbing;\n  transform: scale(0.98);\n}\n\n.ship::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(\n    120deg,\n    transparent,\n    rgba(70, 217, 255, 0.22),\n    transparent\n  );\n  transform: translateX(-100%);\n  transition: 0.45s ease;\n}\n\n.ship:hover::before {\n  transform: translateX(100%);\n}\n\n.board,\n.computerBoard {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(10, 2.35em);\n  grid-template-rows: repeat(10, 2.35em);\n  place-content: center;\n  gap: 0.38em;\n  padding: 1.5em 0;\n  grid-column: 2;\n  grid-row: 2 / 4;\n  background: var(--panel2);\n  border: 0.08rem solid var(--bd);\n  border-radius: 1.25rem;\n  box-shadow: inset 0 0 1.1rem var(--inset);\n}\n\n.board-cell {\n  width: 2.35em;\n  height: 2.35em;\n  border-radius: 0.82rem;\n  border: 0.08rem solid var(--bd2);\n  background: var(--cell);\n  cursor: crosshair;\n  transition: 0.16s ease;\n  position: relative;\n}\n\n.board-cell:hover {\n  transform: scale(1.06);\n  background: var(--cell2);\n  box-shadow: 0 0 1rem var(--glow);\n}\n\n.highlight {\n  background: var(--cell3) !important;\n  border: 0.08rem solid var(--cyanBd) !important;\n  box-shadow: 0 0 0.9rem var(--glow2);\n}\n\n.ship-placed {\n  background: linear-gradient(\n    135deg,\n    rgba(70, 217, 255, 0.35),\n    rgba(44, 112, 255, 0.35)\n  ) !important;\n  border: 0.08rem solid rgba(70, 217, 255, 0.65) !important;\n  box-shadow: inset 0 0 0.9rem rgba(255, 255, 255, 0.08);\n}\n\n.invalid {\n  background: rgba(255, 70, 70, 0.45) !important;\n  border: 0.08rem solid rgba(255, 70, 70, 0.85) !important;\n  box-shadow: 0 0 1.1rem rgba(255, 70, 70, 0.25);\n}\n\n.board-cell.miss {\n  background: var(--cell2) !important;\n  border: 0.08rem solid var(--cell3) !important;\n}\n\n.board-cell.miss::after {\n  content: '';\n  position: absolute;\n  inset: 36%;\n  border-radius: 50%;\n  background: var(--missDot);\n  opacity: 0.65;\n}\n\n.computer-ship.hit,\n.ship-placed.hit {\n  background: radial-gradient(\n    circle,\n    rgba(46, 255, 130, 0.9),\n    rgba(46, 255, 130, 0.18)\n  ) !important;\n  border: 0.08rem solid rgba(46, 255, 130, 0.75) !important;\n  box-shadow: 0 0 1.1rem rgba(46, 255, 130, 0.25);\n  animation: pop 0.22s ease;\n}\n\n.computer-ship.hit::after,\n.ship-placed.hit::after {\n  content: '';\n  position: absolute;\n  inset: 24%;\n  border-radius: 50%;\n  background: var(--hitDot);\n  box-shadow: 0 0 0.75rem rgba(46, 255, 130, 0.6);\n}\n\n@keyframes pop {\n  0% {\n    transform: scale(0.85);\n    opacity: 0.7;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n@media (max-width: 71.9rem) {\n  body {\n    padding: 1.1rem;\n    flex-direction: column;\n    gap: 1.1rem;\n  }\n\n  .playerSide {\n    margin-right: 0;\n  }\n\n  .playerSide,\n  .computerSide {\n    grid-template-columns: 1fr;\n    grid-template-rows: auto auto auto auto;\n  }\n\n  .shipsContainer {\n    grid-column: 1;\n    grid-row: auto;\n    min-height: 13.75rem;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: center;\n  }\n\n  .board,\n  .computerBoard {\n    grid-column: 1;\n    grid-row: auto;\n  }\n\n  .playerTitle {\n    grid-column: 1;\n  }\n\n  .btns {\n    grid-column: 1;\n    justify-content: center;\n  }\n\n  .startCon {\n    grid-column: 1;\n  }\n}\n`,""]);const u=c},314(n){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var l=0;l<n.length;l++){var c=[].concat(n[l]);r&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),e.push(c))}},e}},417(n){n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},449(n,e,t){n.exports=t.p+"5dd918926d41224c8142.ttf"},540(n){n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601(n){n.exports=function(n){return n[1]}},659(n){var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825(n){n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(n=e.currentScript.src),!n)){var r=e.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!n||!/^http(s?):/.test(n));)n=r[a--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b="undefined"!=typeof document&&document.baseURI||self.location.href,t.nc=void 0,t.d({},{lG:()=>C,i:()=>w,Pj:()=>x,F9:()=>y});const r=t.p+"67147cb98c866d213579.svg",a=t.p+"f74ba81ac5865978ee37.svg";var o=t(72),i=t.n(o),s=t(825),d=t.n(s),l=t(659),c=t.n(l),m=t(56),u=t.n(m),p=t(540),h=t.n(p),b=t(113),g=t.n(b),f=t(249),v={};function w(n,e,t){this.element=document.createElement("div"),this.id=crypto.randomUUID(),n&&this.element.classList.add(n),void 0!==e&&this.element.setAttribute("data-y",e),void 0!==t&&this.element.setAttribute("data-x",t),this.row=e,this.col=t}v.styleTagTransform=g(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=d(),v.insertStyleElement=h(),i()(f.A,v),f.A&&f.A.locals&&f.A.locals;class y{constructor(n){this.length=n,this.numberOfHits=0,this.isShipSunk=!1,this.coordinates=[]}hit(){this.numberOfHits++,this.numberOfHits>=this.length&&(this.isShipSunk=!0)}isSunk(){return this.isShipSunk}}class x{constructor(n=10){this.size=n,this.ships=[],this.missedShots=[],this.hitShots=[]}placeShip(n,e){n.coordinates=e,this.ships.push(n)}getShip(n,e){for(let t=0;t<this.ships.length;t++){const r=this.ships[t];for(let t=0;t<r.coordinates.length;t++){const[a,o]=r.coordinates[t];if(a===n&&o===e)return r}}return null}receiveAttack([n,e]){if(this.missedShots.some(([t,r])=>t===n&&r===e)||this.hitShots.some(([t,r])=>t===n&&r===e))return"already-attacked";const t=this.ships.find(t=>t.coordinates.some(([t,r])=>t===n&&r===e));return t?(t.hit(),this.hitShots.push([n,e]),t.isShipSunk?"sunk":"hit"):(this.missedShots.push([n,e]),"miss")}allShipsSunk(){return this.ships.every(n=>n.isShipSunk)}}class C{constructor(n,e,t,r=!0,a,o,i=!0,s,d,l,c,m,u=!0,p){this.method=n,this.formId=e,this.modalTitle=t,this.hasLabel=r,this.labelText=a,this.labelFor=o,this.hasInput=i,this.inputType=s,this.inputID=l,this.inputName=d,this.submitClass=c,this.submitText=m,this.hasCancelBtn=u,this.cancelClass=p}render(){const n=document.createElement("dialog"),e=document.createElement("form"),t=document.createElement("h2"),r=document.createElement("label"),a=document.createElement("input");t.classList.add("dialog-title");const o=new w("modalBtns").element,i=document.createElement("button"),s=document.createElement("button");return e.method=this.method,e.id=this.formId,e.setAttribute("novalidate",""),t.textContent=this.modalTitle,this.hasLabel&&(r.setAttribute("for",this.labelFor),r.textContent=this.labelText,e.appendChild(r)),this.hasInput&&(a.type=this.inputType,a.id=this.inputID,a.name=this.inputName,e.appendChild(a)),i.setAttribute("data-create-modal",""),i.classList.add(this.submitClass),i.textContent=this.submitText,this.hasCancelBtn&&(s.setAttribute("data-close-modal",""),s.classList.add(this.cancelClass),s.textContent="Cancel",o.append(s)),o.prepend(i),e.prepend(t),e.append(o),n.appendChild(e),n}}!function(){const n=new w("profileCon").element,e=new w("profile").element,t=new w("profileIcon").element,o=document.createElement("img");o.src=r,t.appendChild(o);const i=new w("profileText").element;i.textContent="Add Profile",e.append(t,i),n.appendChild(e);const s=new C("dialog","profileForm","Enter the Username Captain!",!0,"Username: ","name",!0,"text","name","name","submitName","Submit",!0,"cancelName").render();document.body.append(s);const d=new C("dialog","endForm","YOU WON!",!1,"","",!1,"","","","restartBtn","Restart",!1,"").render();document.body.append(d),document.querySelector(".restartBtn").addEventListener("click",n=>{n.preventDefault(),l.classList.remove("show"),location.reload()}),document.querySelector(".submitName").addEventListener("click",()=>{const n=document.getElementById("name").value.toUpperCase();n&&(o.src=a,i.textContent=n,b.textContent=`${n} WATERS`)});const l=document.createElement("div");l.className="overlay",document.body.appendChild(l),t.addEventListener("click",()=>{l.classList.add("show"),s.showModal()}),s.addEventListener("close",()=>{l.classList.remove("show")});const c=new w("playerSide").element,m=new w("playerTitle").element,u=new w("btns").element,p=document.createElement("button"),h=document.createElement("button"),b=new w("userWaters").element;function g(n,e,t,r){const a=[];for(let o=0;o<t;o++){const t=r?n:n+o,i=r?e+o:e,s=P[t]?.[i];if(!s)return null;a.push(s)}return a}function f(n){return!!n&&n.every(n=>!n.classList.contains("ship-placed"))}function v(n){n.forEach(n=>n.classList.add("ship-placed"))}b.textContent="FRIENDLY WATERS",h.textContent="Randomize",p.textContent="Rotate",u.append(p,h),p.addEventListener("click",()=>{S=!S,M.textContent=S?"Orientation: HORIZONTAL":"Orientation: VERTICAL"}),h.addEventListener("click",()=>{P.flat().forEach(n=>{n.classList.remove("ship-placed","highlight","invalid")}),N.forEach(n=>{n.coordinates=[],n.numberOfHits=0,n.isShipSunk=!1}),function(){I.innerHTML="";const n=new w("destroyer").element,e=new w("cruiser").element,t=new w("submarine").element,r=new w("battleship").element,a=new w("carrier").element;N.forEach(o=>{const i=new w("ship").element;switch(i.classList.add("ship"),i.setAttribute("draggable","true"),i.style.cursor="grab",i.draggable=!0,i.addEventListener("dragstart",()=>{L=o,T=i}),i.addEventListener("dragend",()=>{P.flat().forEach(n=>{n.classList.remove("highlight"),n.classList.remove("invalid")})}),o.length){case 1:n.appendChild(i),i.textContent="Destroyer";break;case 2:e.appendChild(i),i.textContent="Cruiser";break;case 3:t.appendChild(i),i.textContent="Submarine";break;case 4:r.appendChild(i),i.textContent="Battleship";break;case 5:a.appendChild(i),i.textContent="Carrier"}}),I.append(n,e,t,r,a)}(),H.ships=[],N.forEach(n=>{let e=!1;for(;!e;){const t=Math.random()<.5,r=g(Math.floor(Math.random()*H.size),Math.floor(Math.random()*H.size),n.length,t);f(r)&&(v(r),n.coordinates=r.map(n=>[Number(n.dataset.y),Number(n.dataset.x)]),H.placeShip(n,n.coordinates),e=!0)}}),I.innerHTML="",L=null,T=null});let k=[],E=!1,S=!0,L=null,T=null;const M=new w("rotateText").element;M.textContent="Orientation: HORIZONTAL",m.append(M,u,b);const A=[1,2,3,4,5],N=[];for(let n=0;n<5;n++){const n=Math.floor(Math.random()*A.length),e=A.splice(n,1)[0];N.push(new y(e))}const I=new w("shipsContainer").element,O=new w("destroyer").element,B=new w("cruiser").element,R=new w("submarine").element,j=new w("battleship").element,D=new w("carrier").element;N.forEach(n=>{const e=new w("ship").element;switch(e.classList.add("ship"),e.setAttribute("draggable","true"),e.style.cursor="grab",e.draggable=!0,e.addEventListener("dragstart",()=>{L=n,T=e}),e.addEventListener("dragend",()=>{P.flat().forEach(n=>{n.classList.remove("highlight"),n.classList.remove("invalid")})}),n.length){case 1:O.appendChild(e),e.textContent="Destroyer";break;case 2:B.appendChild(e),e.textContent="Cruiser";break;case 3:R.appendChild(e),e.textContent="Submarine";break;case 4:j.appendChild(e),e.textContent="Battleship";break;case 5:D.appendChild(e),e.textContent="Carrier"}}),I.append(O,B,R,j,D);const U=new w("board").element,H=new x(10),P=F(U,10);function F(n,e){const t=[];for(let r=0;r<e;r++){const a=[];for(let t=0;t<e;t++){const e=new w("board-cell",r,t).element;n.appendChild(e),a.push(e)}t.push(a)}return t}P.flat().forEach(n=>{n.addEventListener("dragover",n=>{n.preventDefault()}),n.addEventListener("mouseenter",()=>{if(!L)return;P.flat().forEach(n=>{n.classList.remove("highlight"),n.classList.remove("invalid")}),k=[];const e=L.length,t=Number(n.dataset.y),r=Number(n.dataset.x);for(let n=0;n<e;n++){let e;e=S?P[t]?.[r+n]:P[t+n]?.[r],e&&k.push(e)}E=k.length===e&&k.every(n=>!n.classList.contains("ship-placed")),k.forEach(n=>{n.classList.add(E?"highlight":"invalid")})}),n.addEventListener("click",()=>{L&&E&&(k.forEach(n=>{n.classList.remove("highlight"),n.classList.remove("invalid"),n.classList.add("ship-placed")}),L.coordinates=k.map(n=>[Number(n.dataset.y),Number(n.dataset.x)]),H.placeShip(L,L.coordinates),T.remove(),L=null,T=null)})});const z=new w("startCon").element,q=document.createElement("button");q.textContent="Start Game",z.appendChild(q);let Y=null,$=null,W=null;function _(n,e,t,r,a){const o=[];for(let i=0;i<r;i++){const r=a?e:e+i,s=a?t+i:t,d=n[r]?.[s];if(!d)return null;o.push(d)}return o}function G(){let n,e,t;do{n=Math.floor(10*Math.random()),e=Math.floor(10*Math.random()),t=H.receiveAttack([n,e])}while("already-attacked"===t);const r=P[n][e];"miss"===t?(r.classList.add("miss"),X=!0):(r.classList.add("hit"),"sunk"===t&&console.log("computer sunk a ship!"),setTimeout(G,500)),H.allShipsSunk()&&(d.querySelector(".dialog-title").textContent="YOU LOST TO COMPUTER",l.classList.add("show"),d.showModal())}q.addEventListener("click",()=>{if(I.querySelector(".ship"))return void alert("Place all your ships first");if(u.remove(),M.remove(),n.remove(),I.remove(),z.remove(),Y)return;const e=new w("computerSide").element,t=new w("computerTitle").element;t.textContent="ENEMY WATERS",W=new w("computerBoard").element,e.append(t,W),document.body.appendChild(e),Y=new x(10),$=F(W,10),[1,2,3,4,5].forEach(n=>{const e=new y(n);let t=!1;for(;!t;){const r=Math.random()<.5,a=Math.floor(10*Math.random()),o=Math.floor(10*Math.random()),i=_($,a,o,n,r);if(!i)continue;if(!i.every(n=>!n.classList.contains("computer-ship")))continue;i.forEach(n=>n.classList.add("computer-ship"));const s=i.map(n=>[Number(n.dataset.y),Number(n.dataset.x)]);Y.placeShip(e,s),t=!0}}),$.flat().forEach(n=>{n.addEventListener("click",()=>{if(!X)return;const e=Number(n.dataset.y),t=Number(n.dataset.x),r=Y.receiveAttack([e,t]);"already-attacked"!==r&&("miss"===r?(n.classList.add("miss"),X=!1,setTimeout(G,500)):(n.classList.add("hit"),"sunk"===r&&console.log("You sunk a computer ship!")),Y.allShipsSunk()&&(l.classList.add("show"),d.showModal()))})}),function(){const n=new w("resetBtn").element;n.textContent="Reset Game",n.addEventListener("click",()=>{})}(),c.style.display="flex",c.style.flexDirection="column",e.style.display="flex",e.style.flexDirection="column"});let X=!0;c.append(I,m,U,z),document.body.append(n,c)}()})();